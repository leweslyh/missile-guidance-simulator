# 导弹制导律验证程序

## 项目概述

导弹制导律验证程序是一个用于验证和比较不同导弹制导律性能的仿真系统。该系统允许用户配置导弹和目标参数，选择或自定义制导律，并通过3D可视化观察仿真结果。

## 主要功能

- **多种制导律支持**：PN（比例导航）、APN（增强比例导航）、OGL（最优制导律）和自定义制导律
- **物理模型增强**：包含重力、大气阻力、推力等真实物理效应
- **3D可视化**：实时显示导弹和目标轨迹
- **多维度数据分析**：相对距离、加速度、速度、接近速度等
- **自定义制导律支持**：允许用户编写和测试自定义制导律代码
- **预设场景**：提供多种预设仿真场景
- **性能评估**：自动计算脱靶量、拦截时间等性能指标

## 快速入门

### 安装依赖

```bash
npm install
```

### 启动开发服务器

```bash
npm run dev
```

### 构建生产版本

```bash
npm run build
```

### 运行测试

```bash
npm run test
```

## 项目结构

```
src/
├── components/          # React组件
│   ├── ResultsDisplay/  # 结果显示组件
│   ├── SimulationControl/ # 仿真控制面板
│   └── Visualization/   # 3D可视化组件
├── core/               # 核心仿真逻辑
│   ├── config/         # 配置管理
│   ├── guidance/       # 制导律实现
│   ├── models/         # 导弹和目标模型
│   ├── simulation/     # 仿真环境
│   └── utils/          # 工具函数
├── types/              # TypeScript类型定义
├── App.jsx             # 应用主组件
└── main.jsx            # 应用入口
```

## 使用说明

1. 在左侧控制面板配置仿真参数
2. 选择制导律类型（PN、APN、OGL或自定义）
3. 如果选择自定义制导律，可以编写自定义代码
4. 点击"运行仿真"按钮开始仿真
5. 在右侧查看3D轨迹和各种数据分析图表
6. 仿真结束后，查看仿真结果和性能指标

## 自定义制导律

自定义制导律允许用户编写JavaScript代码来实现自己的制导算法。代码中可以使用以下变量和函数：

### 可用变量

- `missileState`: 导弹状态（位置、速度、加速度等）
- `targetState`: 目标状态
- `relativeMotion`: 相对运动信息
- `params`: 制导律参数
- `N`: 导航比
- `r`: 相对距离
- `Vc`: 接近速度
- `losRate`: 视线速率
- `losVector`: 视线向量
- `relativePos`: 相对位置
- `relativeVel`: 相对速度

### 可用函数

- `norm(vec)`: 计算向量模长
- `dot(v1, v2)`: 计算向量点积
- `cross(v1, v2)`: 计算向量叉积
- `normalize(vec)`: 向量归一化
- `multiply(vec, scalar)`: 向量标量乘法
- `add(v1, v2)`: 向量加法
- `subtract(v1, v2)`: 向量减法
- `Math`: 数学对象（包含常用数学函数和常量）

## 性能评估指标

- **脱靶量**：导弹与目标的最终相对距离
- **拦截时间**：从仿真开始到拦截的时间
- **平均加速度指令**：制导指令的平均值
- **最大加速度指令**：制导指令的最大值
- **RMS加速度指令**：制导指令的均方根值
- **RMS视线角速度**：视线角速度的均方根值
- **能量消耗**：加速度指令平方的积分
- **拦截成功率**：是否成功命中目标
- **平均接近速度**：接近速度的平均值

## 许可证

MIT License
